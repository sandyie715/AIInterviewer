<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Interview Session | AI Powered</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="interview-style.css">
</head>
<body>
    <div id="waitingScreen" class="waiting-screen active">
        <div class="waiting-content">
            <h1>üéØ Session Starting</h1>
            <p style="color: var(--text-muted); margin-bottom: 10px;">Prepare yourself. Interview starting soon.</p>
            <div class="countdown-large" id="waitingCountdown">00:00:00</div>
            <div style="background: rgb(250, 245, 245); padding: 15px; border-radius: 12px; margin-top: 20px;">
                <p style="font-size: 0.8rem; color: var(--text-muted);">Scheduled For</p>
                <p id="scheduledTimeDisplay" style="font-weight: 700; color: #818cf8;">Loading...</p>
            </div>
        </div>
    </div>

    <div id="interviewSection" class="interview-container">
        <div class="video-section">
            <video id="cameraFeed" autoplay playsinline muted></video>
            
            <div class="overlay">
                <div class="top-bar">
                    <div class="timer">
                        <span>‚è±Ô∏è</span>
                        <span id="interviewTimer">00:00</span>
                    </div>
                    <div class="recording-badge">
                        <div class="recording-dot"></div>
                        <span>LIVE RECORDING</span>
                    </div>
                </div>

                <div class="question-container">
                    <div class="question-box">
                        <span class="question-number" id="questionLabel">Question 1</span>
                        <div class="question-text" id="questionText">Initializing...</div>
                        
                        <p style="font-size: 0.7rem; color: var(--text-muted); margin-bottom: 8px;">TRANSCRIPTION</p>
                        <div class="transcription-display" id="transcriptionDisplay">
                            Ready for your response...
                        </div>
                    </div>
                </div>

                <div class="controls-bar">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <button class="mic-button" id="micButton" onclick="toggleListening()">üé§</button>
                        <span style="color: var(--text-muted); font-size: 0.85rem;" id="micStatus">Click to Speak</span>
                    </div>
                    <div class="action-buttons">
                        <button class="btn-end" onclick="endInterview()">Finish Early</button>
                        <button class="btn-next" id="nextBtn" onclick="submitAnswer()" disabled>Next ‚Üí</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="feedbackSection" class="feedback-page">
        <div class="feedback-container">
            <div class="feedback-header">
                <h1>Interview Results</h1>
                <p style="color: #64748b;">Comprehensive evaluation for your session</p>
            </div>

            <div id="loadingFeedback" style="display: flex; flex-direction: column; align-items: center; gap: 20px; margin: 40px 0;">
                <div class="loading-spinner"></div>
                <p style="font-weight: 600; color: #64748b;">Generating AI Evaluation...</p>
            </div>

            <div id="feedbackContent" style="display: none;">
                <div class="scores-grid">
                    <div class="score-card">
                        <h3>Technical</h3>
                        <div class="score-value" id="technicalScore">0</div>
                    </div>
                    <div class="score-card">
                        <h3>Communication</h3>
                        <div class="score-value" id="communicationScore">0</div>
                    </div>
                    <div class="score-card">
                        <h3>Overall</h3>
                        <div class="score-value" id="overallScore">0</div>
                    </div>
                </div>

                <div id="recommendationBox" class="recommendation"></div>

                <h3 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 20px;">Feedback</h3>
                <div class="feedback-text" id="feedbackText"></div>
            </div>
        </div>
    </div>

    <script src="interview-script.js"></script>
</body>
</html>